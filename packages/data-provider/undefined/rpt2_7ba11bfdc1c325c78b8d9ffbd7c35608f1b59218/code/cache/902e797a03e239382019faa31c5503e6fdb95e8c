{"code":"import { __assign } from \"tslib\";\nimport { EndpointURLs } from './config';\nimport * as s from './schemas';\nexport default function createPayload(submission) {\n    var isEdited = submission.isEdited, userMessage = submission.userMessage, isContinued = submission.isContinued, isTemporary = submission.isTemporary, isRegenerate = submission.isRegenerate, conversation = submission.conversation, editedContent = submission.editedContent, ephemeralAgent = submission.ephemeralAgent, endpointOption = submission.endpointOption;\n    var conversationId = s.tConvoUpdateSchema.parse(conversation).conversationId;\n    var _a = endpointOption, _e = _a.endpoint, endpointType = _a.endpointType;\n    var endpoint = _e;\n    var server = \"\".concat(EndpointURLs[s.EModelEndpoint.agents], \"/\").concat(endpoint);\n    if (s.isAssistantsEndpoint(endpoint)) {\n        server =\n            EndpointURLs[(endpointType !== null && endpointType !== void 0 ? endpointType : endpoint)] +\n                (isEdited ? '/modify' : '');\n    }\n    var payload = __assign(__assign(__assign({}, userMessage), endpointOption), { endpoint: endpoint, isTemporary: isTemporary, isRegenerate: isRegenerate, editedContent: editedContent, conversationId: conversationId, isContinued: !!(isEdited && isContinued), ephemeralAgent: s.isAssistantsEndpoint(endpoint) ? undefined : ephemeralAgent });\n    return { server: server, payload: payload };\n}\n//# sourceMappingURL=createPayload.js.map","references":["/Users/lm/Desktop/chat/LikeChat/packages/data-provider/src/types.ts","/Users/lm/Desktop/chat/LikeChat/packages/data-provider/src/config.ts","/Users/lm/Desktop/chat/LikeChat/packages/data-provider/src/schemas.ts"],"map":"{\"version\":3,\"file\":\"createPayload.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/createPayload.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACxC,OAAO,KAAK,CAAC,MAAM,WAAW,CAAC;AAE/B,MAAM,CAAC,OAAO,UAAU,aAAa,CAAC,UAAyB;IAE3D,IAAA,QAAQ,GASN,UAAU,SATJ,EACR,WAAW,GAQT,UAAU,YARD,EACX,WAAW,GAOT,UAAU,YAPD,EACX,WAAW,GAMT,UAAU,YAND,EACX,YAAY,GAKV,UAAU,aALA,EACZ,YAAY,GAIV,UAAU,aAJA,EACZ,aAAa,GAGX,UAAU,cAHC,EACb,cAAc,GAEZ,UAAU,eAFE,EACd,cAAc,GACZ,UAAU,eADE,CACD;IACP,IAAA,cAAc,GAAK,CAAC,CAAC,kBAAkB,CAAC,KAAK,CAAC,YAAY,CAAC,eAA7C,CAA8C;IAC9D,IAAA,KAAiC,cAGtC,EAHiB,EAAE,cAAA,EAAE,YAAY,kBAGjC,CAAC;IAEF,IAAM,QAAQ,GAAG,EAAsB,CAAC;IACxC,IAAI,MAAM,GAAG,UAAG,YAAY,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,cAAI,QAAQ,CAAE,CAAC;IACpE,IAAI,CAAC,CAAC,oBAAoB,CAAC,QAAQ,CAAC,EAAE,CAAC;QACrC,MAAM;YACJ,YAAY,CAAC,CAAC,YAAY,aAAZ,YAAY,cAAZ,YAAY,GAAI,QAAQ,CAAqC,CAAC;gBAC5E,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,IAAM,OAAO,kCACR,WAAW,GACX,cAAc,KACjB,QAAQ,UAAA,EACR,WAAW,aAAA,EACX,YAAY,cAAA,EACZ,aAAa,eAAA,EACb,cAAc,gBAAA,EACd,WAAW,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,WAAW,CAAC,EACxC,cAAc,EAAE,CAAC,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,cAAc,GAC9E,CAAC;IAEF,OAAO,EAAE,MAAM,QAAA,EAAE,OAAO,SAAA,EAAE,CAAC;AAC7B,CAAC\"}","dts":{"name":"/Users/lm/Desktop/chat/LikeChat/packages/data-provider/dist/types/createPayload.d.ts","writeByteOrderMark":false,"text":"import type * as t from './types';\nexport default function createPayload(submission: t.TSubmission): {\n    server: string;\n    payload: t.TPayload;\n};\n"}}
